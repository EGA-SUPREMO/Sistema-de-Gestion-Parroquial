@startuml
' Activamos el modo de diagrama de clases para CRC Cards
skinparam class {
  BackgroundColor White
  BorderColor Black
  RoundCorner 15
}

skinparam backgroundColor #F0F0F0

' Secretaria
class Secretaria {
  .. Responsabilidades ..
  Interactuar con el Gestor para administrar peticiones, pagos, generar constancias y manejar agenda.
  --
  .. Colaboradores ..
  Gestor de Reportes
  Gestor de Peticiones
  Gestor de Pagos
  Agenda
}

' Feligres
class Feligres {
  .. Responsabilidades ..
  Representar a los miembros de la comunidad parroquial.
  Hacer peticiones.
  Realizar pagos.
  - INCOMPLETO - POR HACER
  --
  .. Colaboradores ..
  Peticion
  Pago
}

' Gestor de Peticiones
class "Gestor de Peticiones" {
  .. Responsabilidades ..
  Gestionar el registro, edición y seguimiento de peticiones hechas por feligreses.
  Validar que el tipo de servicio tenga los campos requeridos.
  Validar que los datos estén correctos (intención, duración, fecha, etc.).
  Filtrar por criterios variados, pueden ser por tipo, fecha, feligrés o estado.
  Mostar el estado de la petición: pendiente, programada, cumplida.
  --
  .. Colaboradores ..
  Secretaria
  Peticion
  Gestor de Reportes
}

' Peticion
class Peticion {
  .. Responsabilidades ..
  Registrar la solicitud de un servicio pedido, ya sea una intencion de misa, un bautizo, pedir una constancia, etc.
  Registrar autor de la petición.
  Registrar por quien es la petición (si aplica).
  Registrar intención de misa (si aplica).
  Registrar la fecha de la solicitud.
  Registrar la duración del servicio pedido.
  Filtrar peticiones por tipo de servicio, fecha u otros criterios.
  - INCOMPLETO - POR HACER
  --
  .. Colaboradores ..
  Feligres
  Tipo de Servicio
  Tipo de Intencion (si aplica)
}

' Tipo de Servicio
class "Tipo de Servicio" {
  .. Responsabilidades ..
  Representar el servicio solicitado: Intencion de misa, confirmacion, matrimonio, etc.
  Establecer su precio y categoría.
}

' Tipo de Intencion
class "Tipo de Intencion" {
  .. Responsabilidades ..
  Representar el motivo de la misa solicitada: Accion de gracias, Salud, aniversarios y Difuntos.
}

' Agenda
class Agenda {
  .. Responsabilidades ..
  Mostrar eventos próximos (misas, bautizos, confirmaciones, bodas, etc.).
  Registrar y actualizar fechas y horas de los eventos.
  Evitar solapamientos de eventos en el mismo horario.
  Permitir la reserva de fechas para servicios.
  Notificar sobre eventos que se acercan.
  Organizar eventos por tipo o fecha.
  Permitir cancelaciones o reprogramaciones.
  Posible impresión o exportación de la agenda (PDF, Excel).
  --
  .. Colaboradores ..
  Peticion
  Secretaria
  Gestor de Reportes
}

' Gestor de Pagos
class "Gestor de Pagos" {
  .. Responsabilidades ..
  Registrar, editar y eliminar pagos
  Registrar quien hizo el pago
  Validar que el monto ingresado corresponda al tipo de servicio.
  Asociar pagos a peticiones
  Consultar historial de pagos por feligrés, por fecha o por tipo de servicio
  Generar reportes financieros (PDF, Excel)
  --
  .. Colaboradores ..
  Secretaria
  Gestor de Reportes
  Pago
}

' Pago
class Pago {
  .. Responsabilidades ..
  Registrar el pago de un feligrés a una petición.
  Registrar datos de pago (método de pago, referencia, fecha y monto).
  --
  .. Colaboradores ..
  Feligres
  Peticion
}

' Gestor de Autentificacion
class "Gestor de Autentificacion" {
  .. Responsabilidades ..
  Gestionar la sesión del usuario.
  Verificar credenciales.
  Bloquear el acceso no autorizado.
  --
  .. Colaboradores ..
  Secretaria
}

' Gestor de Reportes
class "Gestor de Reportes" {
  .. Responsabilidades ..
  - INCOMPLETO - POR HACER
}

' Flechas de colaboración

Secretaria --> "Gestor de Reportes"
Secretaria --> "Gestor de Peticiones"
Secretaria --> "Gestor de Pagos"
Secretaria --> Agenda

Feligres --> Peticion
Feligres --> Pago

"Gestor de Peticiones" --> Secretaria
"Gestor de Peticiones" --> Peticion
"Gestor de Peticiones" --> "Gestor de Reportes"

Peticion --> Feligres
Peticion --> "Tipo de Servicio"
Peticion --> "Tipo de Intencion"

Agenda --> Peticion
Agenda --> Secretaria
Agenda --> "Gestor de Reportes"

"Gestor de Pagos" --> Pago
"Gestor de Pagos" --> "Gestor de Reportes"
"Gestor de Pagos" --> Secretaria

Pago --> Feligres
Pago --> Peticion

"Gestor de Autentificacion" --> Secretaria

@enduml 
